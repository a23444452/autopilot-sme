# AutoPilot SME - è£½é€ æ’ç¨‹æ¨¡çµ„ MVP è¦æ ¼æ›¸

> **ç‰ˆæœ¬**: 0.1.0 (Draft)  
> **æ›´æ–°æ—¥æœŸ**: 2026-02-22  
> **ä½œè€…**: Vince Wang & Lucy  
> **ç‹€æ…‹**: ğŸ“ è¦åŠƒä¸­

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°](#1-å°ˆæ¡ˆæ¦‚è¿°)
2. [ç›®æ¨™ç”¨æˆ¶èˆ‡å ´æ™¯](#2-ç›®æ¨™ç”¨æˆ¶èˆ‡å ´æ™¯)
3. [æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚](#3-æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚)
4. [é•·æœŸè¨˜æ†¶è¨­è¨ˆ](#4-é•·æœŸè¨˜æ†¶è¨­è¨ˆ)
5. [ç³»çµ±æ¶æ§‹](#5-ç³»çµ±æ¶æ§‹)
6. [è³‡æ–™æ¨¡å‹](#6-è³‡æ–™æ¨¡å‹)
7. [API è¨­è¨ˆ](#7-api-è¨­è¨ˆ)
8. [UI/UX è¨­è¨ˆ](#8-uiux-è¨­è¨ˆ)
9. [AI/LLM æ•´åˆ](#9-aillm-æ•´åˆ)
10. [åˆè¦èˆ‡æ²»ç†](#10-åˆè¦èˆ‡æ²»ç†)
11. [é–‹ç™¼è¨ˆç•«](#11-é–‹ç™¼è¨ˆç•«)
12. [é©—æ”¶æ¨™æº–](#12-é©—æ”¶æ¨™æº–)
13. [é¢¨éšªè©•ä¼°](#13-é¢¨éšªè©•ä¼°)
14. [é™„éŒ„](#14-é™„éŒ„)

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 é¡˜æ™¯

**AutoPilot SME** æ˜¯ä¸€å€‹é‡å°å°ç£ä¸­å°å‹è£½é€ æ¥­çš„ AI è‡ªå‹•åŒ–å¹³å°ï¼Œæ•´åˆï¼š
- **è¦–è¦ºåŒ– Agent ç·¨æ’** - è®“éå·¥ç¨‹å¸«ä¹Ÿèƒ½è¨­è¨ˆè‡ªå‹•åŒ–æµç¨‹
- **é•·æœŸè¨˜æ†¶å¼•æ“** - ç´¯ç©ä¼æ¥­çŸ¥è­˜ï¼Œè¶Šç”¨è¶Šè°æ˜
- **æ¨¡å‹åˆè¦æª¢æŸ¥** - ç¢ºä¿ AI ä½¿ç”¨ç¬¦åˆæ³•è¦èˆ‡å…§éƒ¨æ”¿ç­–

### 1.2 MVP ç¯„åœ

æœ¬éšæ®µèšç„¦æ–¼ **è£½é€ æ’ç¨‹è‡ªå‹•åŒ–** å ´æ™¯ï¼Œé©—è­‰æ ¸å¿ƒæŠ€è¡“å¯è¡Œæ€§ã€‚

### 1.3 æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ

| ç—›é» | ç¾ç‹€ | AutoPilot è§£æ±ºæ–¹æ¡ˆ |
|------|------|-------------------|
| æ’ç¨‹ä¾è³´ç¶“é©— | è€å¸«å‚…è…¦ä¸­çš„çŸ¥è­˜ | è¨˜æ†¶å±¤æŒä¹…åŒ–ç”¢ç·šçŸ¥è­˜ |
| æ€¥å–®é›£è™•ç† | äººå·¥é‡æ’ 2-4 å°æ™‚ | AI å³æ™‚æ¨¡æ“¬ï¼Œ3 ç§’çµ¦å»ºè­° |
| äº¤æœŸé›£é ä¼° | æ†‘æ„Ÿè¦ºå›è¦†å®¢æˆ¶ | åŸºæ–¼æ­·å²æ•¸æ“šç²¾æº–é ä¼° |
| çŸ¥è­˜é›£å‚³æ‰¿ | äººå“¡ç•°å‹•å°±æ–·å±¤ | æ±ºç­–è¨˜éŒ„è‡ªå‹•ç´¯ç© |

---

## 2. ç›®æ¨™ç”¨æˆ¶èˆ‡å ´æ™¯

### 2.1 ç›®æ¨™ç”¨æˆ¶ç•«åƒ

**ä¸»è¦ç”¨æˆ¶**: å°ç£ä¸­å°å‹è£½é€ æ¥­ï¼ˆå“¡å·¥ 20-200 äººï¼‰

| å±¬æ€§ | æè¿° |
|------|------|
| ç”¢æ¥­ | é›»å­é›¶çµ„ä»¶ã€å¡‘è† å°„å‡ºã€é‡‘å±¬åŠ å·¥ã€PCB ç­‰ |
| ç”¢ç·šè¦æ¨¡ | 3-10 æ¢ç”¢ç·š |
| ç¾æœ‰å·¥å…· | Excelã€ERPï¼ˆéƒ¨åˆ†ï¼‰ã€ç´™æœ¬å·¥å–® |
| IT èƒ½åŠ› | æœ‰é™ï¼Œç„¡å°ˆè· IT äººå“¡ |
| æ±ºç­–è€… | å» é•·ã€ç”Ÿç®¡ä¸»ç®¡ã€è€é—† |

### 2.2 ç”¨æˆ¶è§’è‰²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ¶è§’è‰²                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘” å» é•·/è€é—†          â†’ çœ‹å ±è¡¨ã€æ ¸å‡†é‡å¤§æ’ç¨‹è®Šæ›´      â”‚
â”‚  ğŸ“Š ç”Ÿç®¡äººå“¡           â†’ ä¸»è¦æ“ä½œè€…ï¼Œæ—¥å¸¸æ’ç¨‹ç®¡ç†      â”‚
â”‚  ğŸ”§ ç”¢ç·šé ˜ç­           â†’ æŸ¥çœ‹æ’ç¨‹ã€å›å ±é€²åº¦            â”‚
â”‚  ğŸ’¼ æ¥­å‹™äººå“¡           â†’ æŸ¥è©¢äº¤æœŸã€è¼¸å…¥æ€¥å–®            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 æ ¸å¿ƒä½¿ç”¨å ´æ™¯

#### å ´æ™¯ A: æ—¥å¸¸æ’ç¨‹ç”¢ç”Ÿ

```
è§¸ç™¼: æ¯æ—¥æ—©ä¸Š 7:00 æˆ–è¨‚å–®åŒ¯å…¥å¾Œ
è¼¸å…¥: å¾…æ’è¨‚å–®æ¸…å–®ã€ç”¢ç·šç‹€æ…‹ã€äººåŠ›é…ç½®
è¼¸å‡º: å»ºè­°æ’ç¨‹ï¼ˆç”˜ç‰¹åœ– + å·¥å–®æ¸…å–®ï¼‰
è¨˜æ†¶: æ›´æ–°å„ç”¢å“æ¨™æº–å·¥æ™‚ã€ç”¢ç·šæ•ˆç‡ä¿‚æ•¸
```

#### å ´æ™¯ B: æ€¥å–®æ’å…¥æ¨¡æ“¬

```
è§¸ç™¼: æ¥­å‹™è¼¸å…¥æ€¥å–®éœ€æ±‚
è¼¸å…¥: æ€¥å–®å“é …ã€æ•¸é‡ã€æœŸæœ›äº¤æœŸ
è¼¸å‡º: 
  - å¯è¡Œæ€§åˆ¤æ–·ï¼ˆå¯/ä¸å¯/æœ‰é¢¨éšªï¼‰
  - å½±éŸ¿åˆ†æï¼ˆå“ªäº›è¨‚å–®æœƒå»¶é²ï¼‰
  - å¤šå€‹æ–¹æ¡ˆæ¯”è¼ƒ
è¨˜æ†¶: è¨˜éŒ„æ±ºç­–èˆ‡å¯¦éš›çµæœï¼Œå„ªåŒ–æœªä¾†å»ºè­°
```

#### å ´æ™¯ C: äº¤æœŸå³æ™‚æŸ¥è©¢

```
è§¸ç™¼: æ¥­å‹™æˆ–å®¢æˆ¶è©¢å•
è¼¸å…¥: è‡ªç„¶èªè¨€å•é¡Œã€ŒP001 500pcs æœ€å¿«ä½•æ™‚èƒ½äº¤ï¼Ÿã€
è¼¸å‡º: 
  - æœ€å¿«äº¤æœŸ
  - ä¿¡å¿ƒå€é–“ï¼ˆ95% ä¿¡å¿ƒåœ¨ X æ—¥å…§ï¼‰
  - å½±éŸ¿å› ç´ èªªæ˜
è¨˜æ†¶: ç´¯ç©é ä¼° vs å¯¦éš›çš„æ ¡æ­£æ•¸æ“š
```

#### å ´æ™¯ D: ç”¢ç·šç•°å¸¸è™•ç†

```
è§¸ç™¼: è¨­å‚™æ•…éšœã€äººå“¡è«‹å‡ã€ç‰©æ–™å»¶é²
è¼¸å…¥: ç•°å¸¸é¡å‹ã€å½±éŸ¿ç¯„åœã€é è¨ˆæ¢å¾©æ™‚é–“
è¼¸å‡º:
  - è‡ªå‹•é‡æ’å»ºè­°
  - éœ€é€šçŸ¥çš„å—å½±éŸ¿è¨‚å–®æ¸…å–®
  - æ›¿ä»£æ–¹æ¡ˆï¼ˆåŠ ç­/å¤–åŒ…/å”èª¿äº¤æœŸï¼‰
è¨˜æ†¶: è¨˜éŒ„ç•°å¸¸æ¨¡å¼ï¼Œé æ¸¬æœªä¾†é¢¨éšª
```

---

## 3. æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

### 3.1 åŠŸèƒ½æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AutoPilot SME                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Agent     â”‚ â”‚   Memory    â”‚ â”‚   Compliance    â”‚    â”‚
â”‚  â”‚   Studio    â”‚ â”‚   Core      â”‚ â”‚   Guard         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚               â”‚                â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              Scheduler Engine                 â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚
â”‚  â”‚  â”‚ æ’ç¨‹    â”‚ â”‚ æ¨¡æ“¬    â”‚ â”‚ æœ€ä½³åŒ–          â”‚ â”‚       â”‚
â”‚  â”‚  â”‚ æ¼”ç®—æ³•  â”‚ â”‚ å¼•æ“    â”‚ â”‚ å¼•æ“           â”‚ â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 åŠŸèƒ½æ¸…å–® (MVP)

| ID | åŠŸèƒ½ | å„ªå…ˆç´š | èªªæ˜ |
|----|------|--------|------|
| F01 | è¨‚å–®ç®¡ç† | P0 | CRUD è¨‚å–®ï¼Œæ”¯æ´ Excel åŒ¯å…¥ |
| F02 | ç”¢ç·šè¨­å®š | P0 | å®šç¾©ç”¢ç·šã€ç”¢èƒ½ã€å¯ç”Ÿç”¢å“é … |
| F03 | ç”¢å“ä¸»æª” | P0 | æ¨™æº–å·¥æ™‚ã€BOMï¼ˆç°¡åŒ–ç‰ˆï¼‰ |
| F04 | è‡ªå‹•æ’ç¨‹ | P0 | åŸºæ–¼è¦å‰‡ + AI çš„æ’ç¨‹ç”¢ç”Ÿ |
| F05 | æ€¥å–®æ¨¡æ“¬ | P0 | What-if åˆ†æï¼Œå½±éŸ¿è©•ä¼° |
| F06 | äº¤æœŸæŸ¥è©¢ | P0 | è‡ªç„¶èªè¨€å°è©±ä»‹é¢ |
| F07 | ç”˜ç‰¹åœ– | P1 | è¦–è¦ºåŒ–æ’ç¨‹çµæœ |
| F08 | è¨˜æ†¶ç®¡ç† | P0 | æŸ¥çœ‹/ç·¨è¼¯ç³»çµ±ç´¯ç©çš„çŸ¥è­˜ |
| F09 | åˆè¦å„€è¡¨æ¿ | P1 | æ¨¡å‹ä½¿ç”¨çµ±è¨ˆã€æˆæœ¬è¿½è¹¤ |
| F10 | æ±ºç­–æ—¥èªŒ | P1 | è¨˜éŒ„æ‰€æœ‰ AI å»ºè­°èˆ‡æœ€çµ‚æ±ºç­– |

### 3.3 åŠŸèƒ½è©³ç´°è¦æ ¼

#### F04: è‡ªå‹•æ’ç¨‹

**è¼¸å…¥**:
```typescript
interface ScheduleRequest {
  orders: Order[];           // å¾…æ’è¨‚å–®
  lines: ProductionLine[];   // å¯ç”¨ç”¢ç·š
  constraints: {
    workingHours: TimeRange; // å·¥ä½œæ™‚æ®µ
    holidays: Date[];        // å‡æ—¥
    maintenanceSchedule: MaintenanceEvent[];
  };
  preferences: {
    optimizeFor: 'delivery' | 'efficiency' | 'balanced';
    maxOvertimeHours: number;
  };
}
```

**è¼¸å‡º**:
```typescript
interface ScheduleResult {
  schedule: ScheduledJob[];  // æ’ç¨‹çµæœ
  metrics: {
    onTimeDeliveryRate: number;  // æº–æ™‚äº¤è²¨ç‡
    lineUtilization: number[];   // å„ç”¢ç·šç¨€é‡‹ç‡
    totalOvertimeHours: number;  // ç¸½åŠ ç­æ™‚æ•¸
  };
  warnings: Warning[];       // è­¦ç¤ºï¼ˆç”¢èƒ½ä¸è¶³ã€äº¤æœŸé¢¨éšªç­‰ï¼‰
  confidence: number;        // ä¿¡å¿ƒåˆ†æ•¸ 0-1
}
```

**æ’ç¨‹æ¼”ç®—æ³•**:
1. **Phase 1**: è¦å‰‡å¼é æ’ï¼ˆä¾äº¤æœŸã€å„ªå…ˆç´šï¼‰
2. **Phase 2**: ç´„æŸæ»¿è¶³ï¼ˆç”¢èƒ½ã€æ›ç·šã€äººåŠ›ï¼‰
3. **Phase 3**: AI å„ªåŒ–ï¼ˆåŸºæ–¼æ­·å²æ•¸æ“šå¾®èª¿ï¼‰

#### F05: æ€¥å–®æ¨¡æ“¬

**å°è©±ç¯„ä¾‹**:
```
User: å®¢æˆ¶è¦åŠ ä¸€å¼µæ€¥å–®ï¼ŒP001 500pcsï¼Œä¸‹é€±ä¸‰è¦äº¤

Agent: ğŸ“Š åˆ†æä¸­...

æ ¹æ“šç›®å‰æ’ç¨‹å’Œç”¢ç·šè¨˜æ†¶ï¼Œæˆ‘æ‰¾åˆ° 2 å€‹å¯è¡Œæ–¹æ¡ˆï¼š

ã€æ–¹æ¡ˆ Aã€‘LINE-A é€±ä¸€ä¸‹åˆæ’å…¥ â­ æ¨è–¦
â”œâ”€ å®Œæˆæ™‚é–“: é€±äºŒ 18:00 (ç·©è¡ 1 å¤©)
â”œâ”€ æ›ç·šæ™‚é–“: 45 åˆ†é˜
â”œâ”€ å½±éŸ¿è¨‚å–®: ORD-2024-156 å»¶å¾Œ 1 å¤© (åŸäº¤æœŸæœ‰é¤˜è£•)
â””â”€ é¡å¤–æˆæœ¬: åŠ ç­ 2 å°æ™‚

ã€æ–¹æ¡ˆ Bã€‘LINE-C é€±ä¸€å…¨å¤©
â”œâ”€ å®Œæˆæ™‚é–“: é€±ä¸€ 22:00 (ç·©è¡ 2 å¤©)
â”œâ”€ æ›ç·šæ™‚é–“: 90 åˆ†é˜ (è©²ç·šè¼ƒå°‘åšæ­¤ç”¢å“)
â”œâ”€ å½±éŸ¿è¨‚å–®: ç„¡
â””â”€ é¡å¤–æˆæœ¬: åŠ ç­ 4 å°æ™‚

è¦æˆ‘åŸ·è¡Œå“ªå€‹æ–¹æ¡ˆï¼Ÿæˆ–éœ€è¦å…¶ä»–è³‡è¨Šï¼Ÿ
```

---

## 4. é•·æœŸè¨˜æ†¶è¨­è¨ˆ

### 4.1 è¨˜æ†¶æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Memory Core                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Structured     â”‚  â”‚  Vector Store               â”‚   â”‚
â”‚  â”‚  Memory (SQL)   â”‚  â”‚  (Semantic Search)          â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚  â€¢ ç”¢ç·šè³‡æ–™     â”‚  â”‚  â€¢ æ±ºç­–è¨˜éŒ„åµŒå…¥             â”‚   â”‚
â”‚  â”‚  â€¢ ç”¢å“ä¸»æª”     â”‚  â”‚  â€¢ å•ç­”æ­·å²                 â”‚   â”‚
â”‚  â”‚  â€¢ æ­·å²å·¥æ™‚     â”‚  â”‚  â€¢ ç•°å¸¸è™•ç†æ¡ˆä¾‹             â”‚   â”‚
â”‚  â”‚  â€¢ KPI æ•¸æ“š     â”‚  â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Memory Manager                      â”‚    â”‚
â”‚  â”‚  â€¢ è‡ªå‹•å£“ç¸®èˆŠè¨˜æ†¶                                â”‚    â”‚
â”‚  â”‚  â€¢ é‡è¦æ€§è©•åˆ†                                    â”‚    â”‚
â”‚  â”‚  â€¢ éºå¿˜æ©Ÿåˆ¶ï¼ˆä½åƒ¹å€¼è¨˜æ†¶æ·˜æ±°ï¼‰                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è¨˜æ†¶é¡å‹

#### 4.2.1 çµæ§‹åŒ–è¨˜æ†¶ (Structured Memory)

**ç”¢ç·šçŸ¥è­˜**:
```yaml
production_lines:
  - id: "LINE-A"
    name: "Aç·š-é«˜é€Ÿç·š"
    products: ["P001", "P002", "P003"]
    capacity_per_hour: 120
    efficiency_factor: 0.92  # å¾æ­·å²æ•¸æ“šå­¸ç¿’
    changeover_matrix:       # æ›ç·šæ™‚é–“çŸ©é™£(åˆ†é˜)
      P001_to_P002: 30
      P001_to_P003: 45
      P002_to_P003: 20
    maintenance:
      last_date: "2026-02-15"
      next_scheduled: "2026-03-15"
      avg_downtime_hours: 4
```

**ç”¢å“çŸ¥è­˜**:
```yaml
products:
  - sku: "P001"
    name: "æ§åˆ¶æ¿ A å‹"
    standard_cycle_time_sec: 30
    historical_yield: 0.985
    setup_complexity: "medium"
    seasonal_demand:
      Q1: 1.2  # éœ€æ±‚ä¿‚æ•¸
      Q2: 0.9
      Q3: 0.8
      Q4: 1.5
```

#### 4.2.2 æƒ…å¢ƒè¨˜æ†¶ (Episodic Memory)

**æ±ºç­–è¨˜éŒ„**:
```yaml
decisions:
  - id: "DEC-2026-0221-001"
    timestamp: "2026-02-21T14:30:00+08:00"
    situation: "æ€¥å–®æ’å…¥ - å®¢æˆ¶ ABC è¦æ±‚ P001 x 500"
    context:
      current_load: 0.85
      affected_orders: ["ORD-156", "ORD-157"]
    options_considered:
      - option: "LINE-A æ’å–®"
        pros: ["æ›ç·šå¿«", "æœ‰ç¶“é©—"]
        cons: ["éœ€åŠ ç­"]
      - option: "LINE-C æ’å–®"
        pros: ["ä¸å½±éŸ¿å…¶ä»–å–®"]
        cons: ["æ›ç·šæ…¢", "å“è³ªé¢¨éšª"]
    final_decision: "LINE-A æ’å–®"
    decision_maker: "ç”Ÿç®¡-ç‹å°æ˜"
    outcome:
      delivery_result: "æº–æ™‚"
      actual_time_hours: 4.2
      quality_issues: null
    lesson_learned: "LINE-A è™•ç† P001 æ€¥å–®æ•ˆç‡é«˜ï¼Œæœªä¾†å„ªå…ˆè€ƒæ…®"
```

#### 4.2.3 èªæ„è¨˜æ†¶ (Semantic Memory)

ç”¨æ–¼è‡ªç„¶èªè¨€æŸ¥è©¢çš„å‘é‡åµŒå…¥ï¼š

```python
# åµŒå…¥ç¯„ä¾‹
embeddings = [
    {
        "text": "LINE-A æ›ç·šæ™‚é–“æ¯” LINE-C çŸ­ï¼Œé©åˆæ€¥å–®",
        "vector": [0.12, -0.34, ...],  # 768 ç¶­
        "metadata": {
            "source": "decision_log",
            "confidence": 0.95,
            "last_validated": "2026-02-20"
        }
    },
    ...
]
```

### 4.3 è¨˜æ†¶ç”Ÿå‘½é€±æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¼¸å…¥   â”‚ -> â”‚  è©•ä¼°   â”‚ -> â”‚  å„²å­˜   â”‚ -> â”‚  æ‡‰ç”¨   â”‚
â”‚  æ–°è³‡è¨Š â”‚    â”‚  é‡è¦æ€§ â”‚    â”‚  è¨˜æ†¶   â”‚    â”‚  æ±ºç­–   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚
                    v                             v
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  ä½é‡è¦ â”‚                   â”‚  å›é¥‹   â”‚
              â”‚  â†’ å£“ç¸® â”‚                   â”‚  â†’ æ›´æ–° â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¨˜æ†¶ä¿ç•™ç­–ç•¥**:
- **ç†±è³‡æ–™** (< 7 å¤©): å®Œæ•´ä¿ç•™ï¼Œé«˜é »å­˜å–
- **æº«è³‡æ–™** (7-90 å¤©): å£“ç¸®å„²å­˜ï¼ŒæŒ‰éœ€è¼‰å…¥
- **å†·è³‡æ–™** (> 90 å¤©): åƒ…ä¿ç•™æ‘˜è¦èˆ‡çµ±è¨ˆ

---

## 5. ç³»çµ±æ¶æ§‹

### 5.1 æ•´é«”æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client Layer                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Web App    â”‚  â”‚  Mobile     â”‚  â”‚  LINE/Telegram Bot      â”‚  â”‚
â”‚  â”‚  (Next.js)  â”‚  â”‚  (PWA)      â”‚  â”‚  (é€šçŸ¥ & å¿«é€ŸæŸ¥è©¢)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API Layer                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    FastAPI Server                         â”‚   â”‚
â”‚  â”‚  /api/v1/orders     - è¨‚å–®ç®¡ç†                            â”‚   â”‚
â”‚  â”‚  /api/v1/schedule   - æ’ç¨‹æ“ä½œ                            â”‚   â”‚
â”‚  â”‚  /api/v1/simulate   - æ¨¡æ“¬åˆ†æ                            â”‚   â”‚
â”‚  â”‚  /api/v1/chat       - è‡ªç„¶èªè¨€å°è©±                        â”‚   â”‚
â”‚  â”‚  /api/v1/memory     - è¨˜æ†¶æŸ¥è©¢/ç®¡ç†                       â”‚   â”‚
â”‚  â”‚  /api/v1/compliance - åˆè¦å ±å‘Š                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Service Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Scheduler  â”‚  â”‚  Memory     â”‚  â”‚  Compliance             â”‚  â”‚
â”‚  â”‚  Service    â”‚  â”‚  Service    â”‚  â”‚  Service                â”‚  â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                         â”‚  â”‚
â”‚  â”‚  â€¢ æ’ç¨‹æ¼”ç®— â”‚  â”‚  â€¢ CRUD     â”‚  â”‚  â€¢ æ¨¡å‹è¿½è¹¤             â”‚  â”‚
â”‚  â”‚  â€¢ æ¨¡æ“¬å¼•æ“ â”‚  â”‚  â€¢ å‘é‡æœå°‹ â”‚  â”‚  â€¢ æˆæœ¬è¨ˆç®—             â”‚  â”‚
â”‚  â”‚  â€¢ æœ€ä½³åŒ–   â”‚  â”‚  â€¢ å£“ç¸®/æ·˜æ±°â”‚  â”‚  â€¢ é¢¨éšªè©•ä¼°             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Data Layer                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PostgreSQL â”‚  â”‚  Qdrant     â”‚  â”‚  Redis                  â”‚  â”‚
â”‚  â”‚  (ä¸»è³‡æ–™åº«) â”‚  â”‚  (å‘é‡åº«)   â”‚  â”‚  (å¿«å–/Session)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      External Services                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Claude API â”‚  â”‚  OpenAI API â”‚  â”‚  Local LLM (Ollama)     â”‚  â”‚
â”‚  â”‚  (ä¸»è¦)     â”‚  â”‚  (å‚™æ´)     â”‚  â”‚  (éš±ç§å ´æ™¯)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 éƒ¨ç½²æ¶æ§‹ (MVP)

**é–‹ç™¼/æ¸¬è©¦ç’°å¢ƒ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Docker Compose             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FastAPI â”‚ â”‚ Next.js â”‚ â”‚Qdrant â”‚ â”‚
â”‚  â”‚  :8000  â”‚ â”‚  :3000  â”‚ â”‚ :6333 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚Postgres â”‚ â”‚  Redis  â”‚           â”‚
â”‚  â”‚  :5432  â”‚ â”‚  :6379  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç”Ÿç”¢ç’°å¢ƒ** (æœªä¾†):
- å¯éƒ¨ç½²æ–¼å®¢æˆ¶æœ¬åœ°ä¸»æ©Ÿï¼ˆDocker / K8sï¼‰
- æˆ–è¨—ç®¡æ–¼é›²ç«¯ï¼ˆAWS / GCP / Azureï¼‰
- æ”¯æ´ Hybrid: è³‡æ–™æœ¬åœ°ï¼ŒLLM é›²ç«¯

### 5.3 æŠ€è¡“é¸å‹

| å±¤ç´š | æŠ€è¡“ | ç†ç”± |
|------|------|------|
| Frontend | Next.js 14 + TypeScript | SSRã€è‰¯å¥½ DXã€ç”Ÿæ…‹æˆç†Ÿ |
| UI å…ƒä»¶ | shadcn/ui + Tailwind | å¯å®¢è£½åŒ–ã€è¼•é‡ |
| åœ–è¡¨ | Apache ECharts | ç”˜ç‰¹åœ–æ”¯æ´ä½³ |
| Backend | FastAPI + Python 3.11 | AI ç”Ÿæ…‹ã€ç•°æ­¥æ•ˆèƒ½å¥½ |
| ä¸»è³‡æ–™åº« | PostgreSQL 15 | ç©©å®šã€JSON æ”¯æ´ |
| å‘é‡è³‡æ–™åº« | Qdrant | æ•ˆèƒ½å„ªã€è‡ªè¨—ç®¡å‹å¥½ |
| å¿«å– | Redis | Sessionã€å³æ™‚ç‹€æ…‹ |
| LLM | Claude 3.5 Sonnet | æ€§åƒ¹æ¯”ã€ä¸­æ–‡èƒ½åŠ› |
| å®¹å™¨åŒ– | Docker Compose | ç°¡åŒ–éƒ¨ç½² |

---

## 6. è³‡æ–™æ¨¡å‹

### 6.1 ER Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Customer   â”‚       â”‚    Order     â”‚       â”‚  OrderItem   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚â”€â”€â”    â”‚ id           â”‚â”€â”€â”    â”‚ id           â”‚
â”‚ name         â”‚  â””â”€â”€â”€<â”‚ customer_id  â”‚  â””â”€â”€â”€<â”‚ order_id     â”‚
â”‚ code         â”‚       â”‚ order_no     â”‚       â”‚ product_id   â”‚â”€â”€â”
â”‚ contact      â”‚       â”‚ due_date     â”‚       â”‚ quantity     â”‚  â”‚
â”‚ priority     â”‚       â”‚ priority     â”‚       â”‚ status       â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ status       â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                       â”‚ created_at   â”‚                         â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
                                                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    Product   â”‚<â”€â”€â”€â”€â”€â”€â”¤  ScheduledJobâ”‚       â”‚ProductionLineâ”‚  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ id           â”‚<â”€â”€â”€â”€â”€â”€â”‚ product_id   â”‚    â”Œâ”€>â”‚ id           â”‚  â”‚
â”‚ sku          â”‚       â”‚ line_id      â”‚â”€â”€â”€â”€â”˜  â”‚ name         â”‚  â”‚
â”‚ name         â”‚       â”‚ order_item_idâ”‚       â”‚ capacity     â”‚  â”‚
â”‚ cycle_time   â”‚       â”‚ start_time   â”‚       â”‚ status       â”‚  â”‚
â”‚ setup_time   â”‚       â”‚ end_time     â”‚       â”‚ products     â”‚â”€â”€â”˜
â”‚ category     â”‚       â”‚ status       â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MemoryEntry â”‚       â”‚ DecisionLog  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚       â”‚ id           â”‚
â”‚ type         â”‚       â”‚ situation    â”‚
â”‚ content      â”‚       â”‚ options      â”‚
â”‚ embedding    â”‚       â”‚ decision     â”‚
â”‚ importance   â”‚       â”‚ outcome      â”‚
â”‚ created_at   â”‚       â”‚ lesson       â”‚
â”‚ accessed_at  â”‚       â”‚ created_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 æ ¸å¿ƒ Schema

```sql
-- è¨‚å–®è¡¨
CREATE TABLE orders (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_no VARCHAR(50) UNIQUE NOT NULL,
    customer_id UUID REFERENCES customers(id),
    due_date TIMESTAMP NOT NULL,
    priority INTEGER DEFAULT 5,  -- 1-10, 10 æœ€é«˜
    status VARCHAR(20) DEFAULT 'pending',
    notes TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- è¨‚å–®æ˜ç´°
CREATE TABLE order_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_id UUID REFERENCES orders(id) ON DELETE CASCADE,
    product_id UUID REFERENCES products(id),
    quantity INTEGER NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    scheduled_start TIMESTAMP,
    scheduled_end TIMESTAMP,
    actual_start TIMESTAMP,
    actual_end TIMESTAMP
);

-- ç”¢å“ä¸»æª”
CREATE TABLE products (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    sku VARCHAR(50) UNIQUE NOT NULL,
    name VARCHAR(200) NOT NULL,
    category VARCHAR(50),
    standard_cycle_time_sec NUMERIC(10,2),  -- æ¨™æº–é€±æœŸæ™‚é–“
    learned_cycle_time_sec NUMERIC(10,2),   -- å­¸ç¿’å¾Œçš„å¯¦éš›æ™‚é–“
    setup_time_min INTEGER DEFAULT 30,
    yield_rate NUMERIC(5,4) DEFAULT 0.98,
    metadata JSONB DEFAULT '{}'
);

-- ç”¢ç·š
CREATE TABLE production_lines (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code VARCHAR(20) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    capacity_per_hour INTEGER,
    efficiency_factor NUMERIC(5,4) DEFAULT 0.90,
    status VARCHAR(20) DEFAULT 'active',
    allowed_products UUID[],  -- å¯ç”Ÿç”¢çš„ç”¢å“ ID
    changeover_matrix JSONB,  -- æ›ç·šæ™‚é–“çŸ©é™£
    metadata JSONB DEFAULT '{}'
);

-- æ’ç¨‹çµæœ
CREATE TABLE scheduled_jobs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    schedule_version INTEGER NOT NULL,
    order_item_id UUID REFERENCES order_items(id),
    line_id UUID REFERENCES production_lines(id),
    product_id UUID REFERENCES products(id),
    planned_start TIMESTAMP NOT NULL,
    planned_end TIMESTAMP NOT NULL,
    planned_quantity INTEGER,
    status VARCHAR(20) DEFAULT 'scheduled',
    created_at TIMESTAMP DEFAULT NOW()
);

-- æ±ºç­–æ—¥èªŒ
CREATE TABLE decision_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    decision_type VARCHAR(50) NOT NULL,  -- 'schedule', 'rush_order', 'exception'
    situation TEXT NOT NULL,
    context JSONB,
    options_considered JSONB,
    final_decision TEXT,
    decision_maker VARCHAR(100),
    ai_suggestion TEXT,
    ai_confidence NUMERIC(5,4),
    outcome JSONB,
    lesson_learned TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

-- è¨˜æ†¶è¡¨ï¼ˆèªæ„æœå°‹ç”¨ï¼‰
CREATE TABLE memory_entries (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    memory_type VARCHAR(50) NOT NULL,  -- 'fact', 'episode', 'rule'
    content TEXT NOT NULL,
    embedding VECTOR(768),  -- pgvector
    importance NUMERIC(5,4) DEFAULT 0.5,
    access_count INTEGER DEFAULT 0,
    last_accessed TIMESTAMP,
    expires_at TIMESTAMP,
    metadata JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);

-- å»ºç«‹å‘é‡ç´¢å¼•
CREATE INDEX ON memory_entries 
USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);
```

---

## 7. API è¨­è¨ˆ

### 7.1 RESTful Endpoints

```yaml
openapi: 3.0.0
info:
  title: AutoPilot SME API
  version: 0.1.0

paths:
  # === è¨‚å–®ç®¡ç† ===
  /api/v1/orders:
    get:
      summary: å–å¾—è¨‚å–®åˆ—è¡¨
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, scheduled, in_progress, completed]
        - name: due_date_from
          in: query
          schema:
            type: string
            format: date
    post:
      summary: å»ºç«‹æ–°è¨‚å–®
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrderRequest'
  
  /api/v1/orders/import:
    post:
      summary: Excel æ‰¹æ¬¡åŒ¯å…¥
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary

  # === æ’ç¨‹æ“ä½œ ===
  /api/v1/schedule/generate:
    post:
      summary: ç”¢ç”Ÿæ’ç¨‹
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScheduleRequest'
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScheduleResult'

  /api/v1/schedule/current:
    get:
      summary: å–å¾—ç›®å‰æ’ç¨‹
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScheduleResult'

  # === æ¨¡æ“¬åˆ†æ ===
  /api/v1/simulate/rush-order:
    post:
      summary: æ€¥å–®æ’å…¥æ¨¡æ“¬
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                product_id:
                  type: string
                quantity:
                  type: integer
                target_date:
                  type: string
                  format: date
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimulationResult'

  /api/v1/simulate/delivery:
    post:
      summary: äº¤æœŸé ä¼°
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                product_id:
                  type: string
                quantity:
                  type: integer

  # === å°è©±ä»‹é¢ ===
  /api/v1/chat:
    post:
      summary: è‡ªç„¶èªè¨€å°è©±
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                context:
                  type: object
      responses:
        200:
          content:
            application/json:
              schema:
                type: object
                properties:
                  response:
                    type: string
                  actions:
                    type: array
                    items:
                      type: object
                  memory_updated:
                    type: boolean

  # === è¨˜æ†¶ç®¡ç† ===
  /api/v1/memory/search:
    post:
      summary: èªæ„æœå°‹è¨˜æ†¶
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                query:
                  type: string
                top_k:
                  type: integer
                  default: 5

  /api/v1/memory/facts:
    get:
      summary: å–å¾—çµæ§‹åŒ–çŸ¥è­˜
    put:
      summary: æ›´æ–°çµæ§‹åŒ–çŸ¥è­˜

  # === åˆè¦å ±å‘Š ===
  /api/v1/compliance/usage:
    get:
      summary: æ¨¡å‹ä½¿ç”¨çµ±è¨ˆ
      parameters:
        - name: period
          in: query
          schema:
            type: string
            enum: [day, week, month]

  /api/v1/compliance/decisions:
    get:
      summary: AI æ±ºç­–å¯©è¨ˆæ—¥èªŒ
```

### 7.2 WebSocket (å³æ™‚æ›´æ–°)

```typescript
// é€£æ¥æ’ç¨‹å³æ™‚æ›´æ–°
const ws = new WebSocket('wss://api/v1/ws/schedule');

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  switch (data.type) {
    case 'SCHEDULE_UPDATED':
      // æ’ç¨‹æ›´æ–°
      break;
    case 'JOB_STATUS_CHANGED':
      // å·¥å–®ç‹€æ…‹è®Šæ›´
      break;
    case 'ALERT':
      // ç•°å¸¸è­¦ç¤º
      break;
  }
};
```

---

## 8. UI/UX è¨­è¨ˆ

### 8.1 è³‡è¨Šæ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AutoPilot SME                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“Š Dashboard (é¦–é )                                     â”‚
â”‚  â”œâ”€â”€ ä»Šæ—¥æ’ç¨‹æ¦‚è¦½                                        â”‚
â”‚  â”œâ”€â”€ ç”¢ç·šç‹€æ…‹                                            â”‚
â”‚  â”œâ”€â”€ å¾…è™•ç†è­¦ç¤º                                          â”‚
â”‚  â””â”€â”€ é—œéµ KPI                                            â”‚
â”‚                                                          â”‚
â”‚  ğŸ“‹ è¨‚å–®ç®¡ç†                                             â”‚
â”‚  â”œâ”€â”€ è¨‚å–®åˆ—è¡¨                                            â”‚
â”‚  â”œâ”€â”€ æ–°å¢/ç·¨è¼¯è¨‚å–®                                       â”‚
â”‚  â””â”€â”€ Excel åŒ¯å…¥                                          â”‚
â”‚                                                          â”‚
â”‚  ğŸ“… æ’ç¨‹ä¸­å¿ƒ                                             â”‚
â”‚  â”œâ”€â”€ ç”˜ç‰¹åœ–æª¢è¦–                                          â”‚
â”‚  â”œâ”€â”€ è¡¨æ ¼æª¢è¦–                                            â”‚
â”‚  â”œâ”€â”€ ç”¢ç”Ÿæ’ç¨‹                                            â”‚
â”‚  â””â”€â”€ æ€¥å–®æ¨¡æ“¬                                            â”‚
â”‚                                                          â”‚
â”‚  ğŸ’¬ AI åŠ©æ‰‹                                              â”‚
â”‚  â””â”€â”€ å°è©±ä»‹é¢ (äº¤æœŸæŸ¥è©¢ã€å•é¡Œæ’è§£)                        â”‚
â”‚                                                          â”‚
â”‚  ğŸ§  çŸ¥è­˜åº«                                               â”‚
â”‚  â”œâ”€â”€ ç”¢ç·šè¨­å®š                                            â”‚
â”‚  â”œâ”€â”€ ç”¢å“ä¸»æª”                                            â”‚
â”‚  â””â”€â”€ å­¸ç¿’è¨˜éŒ„                                            â”‚
â”‚                                                          â”‚
â”‚  âš™ï¸ è¨­å®š                                                 â”‚
â”‚  â”œâ”€â”€ ç³»çµ±è¨­å®š                                            â”‚
â”‚  â”œâ”€â”€ åˆè¦å„€è¡¨æ¿                                          â”‚
â”‚  â””â”€â”€ ä½¿ç”¨è€…ç®¡ç†                                          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 æ ¸å¿ƒé é¢ Wireframe

#### Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ­ AutoPilot SME                    [ğŸ”” 3] [ğŸ‘¤ ç‹å°æ˜]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“Š ä»Šæ—¥æ’ç¨‹         â”‚  â”‚  âš ï¸ å¾…è™•ç†è­¦ç¤º              â”‚   â”‚
â”‚  â”‚                     â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚  ç¸½å·¥å–®: 24         â”‚  â”‚  â€¢ ORD-156 äº¤æœŸé¢¨éšª (æ˜å¤©)  â”‚   â”‚
â”‚  â”‚  é€²è¡Œä¸­: 8          â”‚  â”‚  â€¢ LINE-B é é˜²ä¿é¤Š (å¾Œå¤©)   â”‚   â”‚
â”‚  â”‚  å·²å®Œæˆ: 12         â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚  å»¶é²: 1            â”‚  â”‚  [æŸ¥çœ‹å…¨éƒ¨]                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ï¿½icing ç”¢ç·šå³æ™‚ç‹€æ…‹                                   â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  LINE-A [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%  P001 - ORD-123              â”‚  â”‚
â”‚  â”‚  LINE-B [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% P003 - ORD-125 (è¶•å·¥)       â”‚  â”‚
â”‚  â”‚  LINE-C [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘] 40%  P002 - ORD-124              â”‚  â”‚
â”‚  â”‚  LINE-D [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   å¾…æ©Ÿä¸­                       â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“ˆ æœ¬é€± KPI                                         â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  æº–æ™‚äº¤è²¨ç‡    ç”¢ç·šç¨€é‡‹ç‡    å“è³ªè‰¯ç‡    åŠ ç­æ™‚æ•¸     â”‚    â”‚
â”‚  â”‚    94.2%        78.5%       99.1%      12.5 hr     â”‚    â”‚
â”‚  â”‚    â†‘ 2.1%      â†‘ 5.2%      â†’ 0%       â†“ 3.2 hr    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ’ç¨‹ç”˜ç‰¹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“… æ’ç¨‹ä¸­å¿ƒ                      [é‡æ–°æ’ç¨‹] [æ€¥å–®æ¨¡æ“¬]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—€ 2026/02/22 (é€±å…­)                              ä»Šå¤© â–¶   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      â”‚ 08:00 â”‚ 10:00 â”‚ 12:00 â”‚ 14:00 â”‚ 16:00 â”‚ 18:00 â”‚     â”‚
â”‚ â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€ â”‚
â”‚      â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚     â”‚
â”‚ A ç·š â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚     â”‚
â”‚      â”‚   P001-ORD123 â”‚ æ›ç·š  â”‚     P002-ORD125      â”‚     â”‚
â”‚      â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚     â”‚
â”‚ B ç·š â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚     â”‚
â”‚      â”‚          P003-ORD126 (è¶•å·¥ä¸­)               â”‚     â”‚
â”‚      â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚     â”‚
â”‚ C ç·š â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â–‘â–‘â–‘â–‘â–‘â”‚     â”‚
â”‚      â”‚P002   â”‚    å¾…æ©Ÿ       â”‚   P001-ORD127â”‚ä¿é¤Š â”‚     â”‚
â”‚      â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚     â”‚
â”‚ D ç·š â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚     â”‚
â”‚      â”‚              å¾…æ©Ÿä¸­                         â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  åœ–ä¾‹: â–ˆâ–ˆâ–ˆ ç”Ÿç”¢ä¸­  â–‘â–‘â–‘ å¾…æ©Ÿ/æ›ç·š  âš ï¸ é¢¨éšª                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AI å°è©±ä»‹é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ AI æ’ç¨‹åŠ©æ‰‹                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  ğŸ‘¤ P001 500pcs ä¸‹é€±ä¸‰å¯ä»¥äº¤å—ï¼Ÿ                     â”‚    â”‚
â”‚  â”‚                                            14:23    â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  ğŸ¤– æ ¹æ“šç›®å‰æ’ç¨‹å’Œç”¢ç·šç‹€æ…‹åˆ†æï¼š                      â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚     âœ… å¯è¡Œï¼é è¨ˆäº¤æœŸï¼šä¸‹é€±äºŒ 18:00                   â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚     ğŸ“Š æ–¹æ¡ˆèªªæ˜ï¼š                                    â”‚    â”‚
â”‚  â”‚     â€¢ å®‰æ’è‡³ LINE-Aï¼ˆè©²ç”¢å“æ­·å²æ•ˆç‡æœ€ä½³ï¼‰            â”‚    â”‚
â”‚  â”‚     â€¢ é€±ä¸€ä¸‹åˆé–‹å§‹ï¼Œé è¨ˆ 8 å°æ™‚å®Œæˆ                  â”‚    â”‚
â”‚  â”‚     â€¢ å½±éŸ¿ï¼šORD-156 å»¶å¾Œ 4 å°æ™‚ï¼ˆäº¤æœŸä»æœ‰é¤˜è£•ï¼‰       â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚     ğŸ“ ä¿¡å¿ƒåº¦ï¼š92%ï¼ˆåŸºæ–¼éå» 23 æ¬¡é¡ä¼¼æƒ…æ³ï¼‰         â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚     [åŸ·è¡Œæ­¤æ’ç¨‹] [æŸ¥çœ‹å…¶ä»–æ–¹æ¡ˆ] [è©³ç´°åˆ†æ]           â”‚    â”‚
â”‚  â”‚                                            14:23    â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  è¼¸å…¥è¨Šæ¯...                              [ğŸ“] [â¤]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  å¿«é€Ÿæ“ä½œ: [æŸ¥äº¤æœŸ] [æ¨¡æ“¬æ€¥å–®] [æŸ¥ç”¢èƒ½] [æœ¬é€±å ±è¡¨]          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. AI/LLM æ•´åˆ

### 9.1 Prompt æ¶æ§‹

```python
SYSTEM_PROMPT = """
ä½ æ˜¯ AutoPilot SME çš„è£½é€ æ’ç¨‹ AI åŠ©æ‰‹ã€‚

## è§’è‰²
- å”åŠ©ç”Ÿç®¡äººå“¡é€²è¡Œæ’ç¨‹æ±ºç­–
- åŸºæ–¼æ­·å²æ•¸æ“šå’Œç”¢ç·šçŸ¥è­˜æä¾›å»ºè­°
- ç”¨ç¹é«”ä¸­æ–‡å›æ‡‰ï¼Œèªæ°£å°ˆæ¥­ä½†è¦ªåˆ‡

## å¯ç”¨è³‡è¨Š
- ç›®å‰æ’ç¨‹ç‹€æ…‹
- ç”¢ç·šèƒ½åŠ›èˆ‡æ­·å²æ•ˆç‡
- è¨‚å–®å„ªå…ˆç´šèˆ‡äº¤æœŸ
- éå»é¡ä¼¼æƒ…æ³çš„æ±ºç­–è¨˜éŒ„

## å›æ‡‰åŸå‰‡
1. å…ˆçµ¦çµè«–ï¼Œå†èªªæ˜ç†ç”±
2. é‡åŒ–å½±éŸ¿ï¼ˆæ™‚é–“ã€æˆæœ¬ã€é¢¨éšªï¼‰
3. æä¾›å¯åŸ·è¡Œçš„é¸é …
4. æ¨™è¨»ä¿¡å¿ƒåº¦èˆ‡ä¾æ“š

## é™åˆ¶
- ä¸åšè¶…å‡ºæ’ç¨‹ç¯„åœçš„æ±ºç­–
- é‡å¤§è®Šæ›´éœ€äººå·¥ç¢ºèª
- æ•æ„Ÿè³‡è¨Šä¸å¤–æ´©
"""

def build_context(user_query: str) -> str:
    """çµ„è£å°è©± context"""
    context = {
        "current_schedule": get_current_schedule_summary(),
        "relevant_memories": memory_search(user_query, top_k=5),
        "line_status": get_line_status(),
        "pending_orders": get_pending_orders_summary(),
    }
    return json.dumps(context, ensure_ascii=False)
```

### 9.2 æ¨¡å‹é¸æ“‡ç­–ç•¥

```python
class ModelRouter:
    """æ ¹æ“šä»»å‹™é¡å‹é¸æ“‡æœ€é©åˆçš„æ¨¡å‹"""
    
    TASK_MODEL_MAP = {
        "quick_query": "claude-3-haiku",      # ç°¡å–®æŸ¥è©¢
        "schedule_analysis": "claude-3.5-sonnet",  # è¤‡é›œåˆ†æ
        "report_generation": "claude-3.5-sonnet",  # å ±è¡¨ç”Ÿæˆ
        "embedding": "text-embedding-3-small",     # å‘é‡åµŒå…¥
    }
    
    FALLBACK_CHAIN = [
        "claude-3.5-sonnet",
        "gpt-4-turbo",
        "ollama/llama3",  # æœ¬åœ°å‚™æ´
    ]
    
    async def route(self, task_type: str, content: str) -> str:
        model = self.TASK_MODEL_MAP.get(task_type, "claude-3.5-sonnet")
        
        for model in self.get_model_chain(model):
            try:
                return await self.call_model(model, content)
            except Exception as e:
                logger.warning(f"Model {model} failed: {e}")
                continue
        
        raise AllModelsFailed()
```

### 9.3 Function Calling

```python
AVAILABLE_FUNCTIONS = [
    {
        "name": "get_delivery_estimate",
        "description": "ä¼°ç®—æŒ‡å®šç”¢å“çš„äº¤æœŸ",
        "parameters": {
            "type": "object",
            "properties": {
                "product_id": {"type": "string"},
                "quantity": {"type": "integer"},
            },
            "required": ["product_id", "quantity"]
        }
    },
    {
        "name": "simulate_rush_order",
        "description": "æ¨¡æ“¬æ€¥å–®æ’å…¥çš„å½±éŸ¿",
        "parameters": {
            "type": "object",
            "properties": {
                "product_id": {"type": "string"},
                "quantity": {"type": "integer"},
                "target_date": {"type": "string", "format": "date"},
            },
            "required": ["product_id", "quantity", "target_date"]
        }
    },
    {
        "name": "get_line_history",
        "description": "æŸ¥è©¢ç”¢ç·šæ­·å²æ•ˆç‡æ•¸æ“š",
        "parameters": {
            "type": "object",
            "properties": {
                "line_id": {"type": "string"},
                "product_id": {"type": "string"},
                "days": {"type": "integer", "default": 30},
            },
            "required": ["line_id"]
        }
    },
    {
        "name": "update_memory",
        "description": "æ›´æ–°ç³»çµ±è¨˜æ†¶ï¼ˆå­¸ç¿’æ–°çŸ¥è­˜ï¼‰",
        "parameters": {
            "type": "object",
            "properties": {
                "memory_type": {"type": "string", "enum": ["fact", "rule", "episode"]},
                "content": {"type": "string"},
                "importance": {"type": "number", "minimum": 0, "maximum": 1},
            },
            "required": ["memory_type", "content"]
        }
    }
]
```

---

## 10. åˆè¦èˆ‡æ²»ç†

### 10.1 Compliance Guard åŠŸèƒ½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Compliance Guard                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ“Š æ¨¡å‹ä½¿ç”¨çµ±è¨ˆ                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æœ¬æœˆä½¿ç”¨é‡                                          â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  Claude 3.5 Sonnet:  45,230 tokens ($0.68)          â”‚    â”‚
â”‚  â”‚  Claude 3 Haiku:     123,450 tokens ($0.03)         â”‚    â”‚
â”‚  â”‚  Embedding:          89,000 tokens ($0.01)          â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚    â”‚
â”‚  â”‚  Total:              $0.72                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  ğŸ”’ æ•æ„Ÿè³‡æ–™æª¢æŸ¥                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  âœ… æœ¬é€± AI äº’å‹•: 234 æ¬¡                              â”‚    â”‚
â”‚  â”‚  âœ… æ•æ„Ÿè³‡æ–™åµæ¸¬: 0 æ¬¡è­¦ç¤º                            â”‚    â”‚
â”‚  â”‚  âœ… è³‡æ–™å¤–æ´©é¢¨éšª: ä½                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  ğŸ“‹ æ±ºç­–å¯©è¨ˆ                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æœ€è¿‘ AI è¼”åŠ©æ±ºç­–:                                    â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  02/22 14:30  æ€¥å–®æ’å…¥å»ºè­°  âœ… æ¡ç´  çµæœ:æº–æ™‚        â”‚    â”‚
â”‚  â”‚  02/22 10:15  äº¤æœŸé ä¼°      âœ… æ¡ç´  çµæœ:æº–ç¢º        â”‚    â”‚
â”‚  â”‚  02/21 16:45  æ’ç¨‹å„ªåŒ–      âšª ä¿®æ”¹  çµæœ:å¾…é©—è­‰      â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  [åŒ¯å‡ºå ±å‘Š]                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 è³‡æ–™éš±ç§è¨­è¨ˆ

```python
class PrivacyGuard:
    """æ•æ„Ÿè³‡æ–™è™•ç†"""
    
    SENSITIVE_PATTERNS = [
        (r'\b\d{3}-\d{2}-\d{4}\b', '[èº«åˆ†è­‰]'),  # èº«åˆ†è­‰
        (r'\b\d{10,16}\b', '[å¸³è™Ÿ]'),             # éŠ€è¡Œå¸³è™Ÿ
        (r'[\w.-]+@[\w.-]+\.\w+', '[Email]'),     # Email
    ]
    
    def sanitize_for_llm(self, text: str) -> str:
        """é€å‡ºåˆ° LLM å‰çš„è³‡æ–™æ¸…æ´—"""
        for pattern, replacement in self.SENSITIVE_PATTERNS:
            text = re.sub(pattern, replacement, text)
        return text
    
    def should_use_local_llm(self, content: str) -> bool:
        """åˆ¤æ–·æ˜¯å¦æ‡‰ä½¿ç”¨æœ¬åœ°æ¨¡å‹"""
        sensitivity_score = self.calculate_sensitivity(content)
        return sensitivity_score > 0.7
```

### 10.3 æ¨¡å‹é¢¨éšªåˆ†ç´š

```yaml
model_risk_assessment:
  claude-3.5-sonnet:
    provider: Anthropic
    data_residency: US
    risk_level: medium
    suitable_for:
      - general_scheduling
      - report_generation
    not_suitable_for:
      - customer_pii_processing
      
  ollama/llama3:
    provider: Local
    data_residency: on-premise
    risk_level: low
    suitable_for:
      - all_tasks
    limitations:
      - lower_quality
      - slower_response
```

---

## 11. é–‹ç™¼è¨ˆç•«

### 11.1 MVP æ™‚ç¨‹ (6 é€±)

```
Week 1: åŸºç¤å»ºè¨­
â”œâ”€â”€ Day 1-2: å°ˆæ¡ˆåˆå§‹åŒ–ã€ç’°å¢ƒè¨­å®š
â”œâ”€â”€ Day 3-4: è³‡æ–™åº« Schemaã€åŸºç¤ CRUD API
â””â”€â”€ Day 5: Docker Compose é–‹ç™¼ç’°å¢ƒ

Week 2: è¨˜æ†¶å±¤
â”œâ”€â”€ Day 1-2: Memory Store å¯¦ä½œ (Postgres + Qdrant)
â”œâ”€â”€ Day 3-4: è¨˜æ†¶ CRUD API
â””â”€â”€ Day 5: èªæ„æœå°‹æ¸¬è©¦

Week 3: æ’ç¨‹å¼•æ“
â”œâ”€â”€ Day 1-2: åŸºç¤æ’ç¨‹æ¼”ç®—æ³•
â”œâ”€â”€ Day 3-4: LLM æ•´åˆ (Function Calling)
â””â”€â”€ Day 5: æ€¥å–®æ¨¡æ“¬ API

Week 4: å‰ç«¯åŸºç¤
â”œâ”€â”€ Day 1-2: Next.js å°ˆæ¡ˆã€UI å…ƒä»¶åº«
â”œâ”€â”€ Day 3-4: Dashboardã€è¨‚å–®ç®¡ç†é 
â””â”€â”€ Day 5: æ’ç¨‹ç”˜ç‰¹åœ–

Week 5: AI å°è©± & æ•´åˆ
â”œâ”€â”€ Day 1-2: Chat APIã€Prompt å·¥ç¨‹
â”œâ”€â”€ Day 3-4: å‰ç«¯å°è©±ä»‹é¢
â””â”€â”€ Day 5: ç«¯åˆ°ç«¯æ•´åˆæ¸¬è©¦

Week 6: æ”¶å°¾ & Demo
â”œâ”€â”€ Day 1-2: Bug ä¿®å¾©ã€æ•ˆèƒ½å„ªåŒ–
â”œâ”€â”€ Day 3: åˆè¦å„€è¡¨æ¿
â”œâ”€â”€ Day 4: Demo æº–å‚™ã€æ–‡ä»¶æ’°å¯«
â””â”€â”€ Day 5: Demo å±•ç¤º
```

### 11.2 é‡Œç¨‹ç¢‘

| é€±æ¬¡ | é‡Œç¨‹ç¢‘ | äº¤ä»˜ç‰© | é©—æ”¶æ¨™æº– |
|------|--------|--------|----------|
| W1 | ç’°å¢ƒå°±ç·’ | Docker é–‹ç™¼ç’°å¢ƒ | `docker-compose up` å¯å•Ÿå‹•æ‰€æœ‰æœå‹™ |
| W2 | è¨˜æ†¶å±¤å®Œæˆ | Memory API | å¯å„²å­˜/æŸ¥è©¢/èªæ„æœå°‹ |
| W3 | æ’ç¨‹æ ¸å¿ƒ | Schedule API | è¼¸å…¥è¨‚å–®ï¼Œç”¢å‡ºæ’ç¨‹ |
| W4 | UI åŸºç¤ | Web ä»‹é¢ | å¯æ“ä½œè¨‚å–®ã€æŸ¥çœ‹æ’ç¨‹ |
| W5 | AI æ•´åˆ | Chat åŠŸèƒ½ | å°è©±æŸ¥è©¢äº¤æœŸå¯é‹ä½œ |
| W6 | MVP å®Œæˆ | Demo ç‰ˆæœ¬ | å®Œæ•´æµç¨‹å¯å±•ç¤º |

### 11.3 è³‡æºéœ€æ±‚

**äººåŠ›**:
- å…¨ç«¯é–‹ç™¼: 1 äºº (ä¸»åŠ›)
- AI/LLM æ•´åˆ: 0.5 äºº (å¯ç”± Lucy å”åŠ©)
- UI/UX: 0.5 äºº (å¯ç”¨ AI ç”Ÿæˆ)

**åŸºç¤è¨­æ–½**:
- é–‹ç™¼æ©Ÿ: Mac Mini M2 (ç¾æœ‰)
- é›²ç«¯ LLM: Claude API ($50/æœˆé ä¼°)
- éƒ¨ç½²: Vercel (å‰ç«¯) + Railway/Fly.io (å¾Œç«¯)

---

## 12. é©—æ”¶æ¨™æº–

### 12.1 åŠŸèƒ½é©—æ”¶

| ID | æ¸¬è©¦æ¡ˆä¾‹ | é æœŸçµæœ | é€šéæ¨™æº– |
|----|----------|----------|----------|
| T01 | åŒ¯å…¥ 10 å¼µè¨‚å–® Excel | æˆåŠŸå»ºç«‹è¨‚å–® | 100% æˆåŠŸ |
| T02 | ç”¢ç”Ÿæ’ç¨‹ | 30 ç§’å…§ç”¢å‡ºçµæœ | < 30s |
| T03 | æ€¥å–®æ¨¡æ“¬ | 3 ç§’å…§çµ¦å‡ºå½±éŸ¿åˆ†æ | < 3s |
| T04 | å°è©±æŸ¥è©¢äº¤æœŸ | æ­£ç¢ºå›æ‡‰é ä¼°äº¤æœŸ | æº–ç¢ºåº¦ > 80% |
| T05 | è¨˜æ†¶æŒä¹…åŒ– | é‡å•Ÿå¾Œè¨˜æ†¶ä¿ç•™ | 100% ä¿ç•™ |
| T06 | ç¬¬äºŒæ¬¡æŸ¥è©¢ | ä½¿ç”¨æ­·å²çŸ¥è­˜å„ªåŒ–å›æ‡‰ | å¯è§€å¯Ÿåˆ°è¨˜æ†¶æ‡‰ç”¨ |

### 12.2 éåŠŸèƒ½é©—æ”¶

| é …ç›® | æ¨™æº– |
|------|------|
| API å›æ‡‰æ™‚é–“ | P95 < 500ms (æ’ç¨‹é™¤å¤–) |
| å‰ç«¯é¦–å±è¼‰å…¥ | < 3s (3G ç¶²è·¯) |
| ç³»çµ±å¯ç”¨æ€§ | > 99% (MVP éšæ®µä¸å¼·åˆ¶) |
| éŒ¯èª¤è™•ç† | æ‰€æœ‰ API æœ‰é©ç•¶éŒ¯èª¤è¨Šæ¯ |

### 12.3 Demo Checklist

- [ ] è¨‚å–® Excel åŒ¯å…¥
- [ ] è‡ªå‹•ç”¢ç”Ÿæ’ç¨‹ (ç”˜ç‰¹åœ–å±•ç¤º)
- [ ] æ€¥å–®æ’å…¥æ¨¡æ“¬ (å±•ç¤ºå½±éŸ¿åˆ†æ)
- [ ] å°è©±æŸ¥è©¢ã€ŒP001 500pcs æœ€å¿«ä½•æ™‚äº¤ï¼Ÿã€
- [ ] å±•ç¤ºè¨˜æ†¶ï¼šç¬¬äºŒæ¬¡æŸ¥è©¢åŒç”¢å“ï¼Œç³»çµ±å¼•ç”¨æ­·å²
- [ ] åˆè¦å„€è¡¨æ¿ï¼šé¡¯ç¤ºæ¨¡å‹ä½¿ç”¨çµ±è¨ˆ

---

## 13. é¢¨éšªè©•ä¼°

### 13.1 æŠ€è¡“é¢¨éšª

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | ç·©è§£æªæ–½ |
|------|------|--------|----------|
| LLM å›æ‡‰ä¸ç©©å®š | é«˜ | ä¸­ | å¤šæ¨¡å‹ fallbackã€äººå·¥è¦†æ ¸æ©Ÿåˆ¶ |
| æ’ç¨‹æ¼”ç®—æ³•æ•ˆèƒ½ | ä¸­ | ä½ | å…ˆç”¨è¦å‰‡å¼ï¼ŒAI åƒ…å„ªåŒ– |
| å‘é‡æœå°‹ç²¾åº¦ | ä¸­ | ä¸­ | èª¿æ•´ embedding æ¨¡å‹ã€å¢åŠ è¨“ç·´æ•¸æ“š |
| è³‡æ–™é·ç§»å›°é›£ | é«˜ | ä½ | MVP ç”¨ mock dataï¼Œä¸è™•ç†çœŸå¯¦é·ç§» |

### 13.2 æ¥­å‹™é¢¨éšª

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | ç·©è§£æªæ–½ |
|------|------|--------|----------|
| ç”¨æˆ¶ä¸ä¿¡ä»» AI | é«˜ | é«˜ | å¼·èª¿ã€ŒAI å»ºè­°ã€è€Œéã€ŒAI æ±ºç­–ã€ |
| å­¸ç¿’æ›²ç·šé™¡å³­ | ä¸­ | ä¸­ | ç°¡åŒ– UIã€æä¾›æ•™å­¸ |
| è³‡æ–™å“è³ªå·® | é«˜ | é«˜ | æ¼¸é€²å¼å°å…¥ã€è³‡æ–™æ ¡æ­£æ©Ÿåˆ¶ |

### 13.3 MVP å‡è¨­

ä»¥ä¸‹å‡è¨­éœ€åœ¨ MVP ä¸­é©—è­‰ï¼š

1. **ç”¨æˆ¶é¡˜æ„è¼¸å…¥æ•¸æ“š**: å‡è¨­ç”Ÿç®¡äººå“¡é¡˜æ„ç¶­è­·è¨‚å–®/ç”¢ç·šè³‡æ–™
2. **AI å»ºè­°å¯æ¥å—**: å‡è¨­ AI æ’ç¨‹å“è³ªé”åˆ°ã€Œå¯åƒè€ƒã€ç¨‹åº¦
3. **è¨˜æ†¶æœ‰åƒ¹å€¼**: å‡è¨­ç´¯ç©çš„çŸ¥è­˜ç¢ºå¯¦æå‡å¾ŒçºŒå»ºè­°å“è³ª
4. **æˆæœ¬å¯æ¥å—**: å‡è¨­ LLM æˆæœ¬åœ¨ä¸­å°ä¼æ¥­é ç®—å…§

---

## 14. é™„éŒ„

### 14.1 åƒè€ƒè³‡æ–™

- [è£½é€ æ¥­æ’ç¨‹æ¼”ç®—æ³•](https://en.wikipedia.org/wiki/Job_shop_scheduling)
- [Claude Function Calling](https://docs.anthropic.com/claude/docs/tool-use)
- [Qdrant Vector Database](https://qdrant.tech/documentation/)
- [memU - Persistent Memory for AI Agents](https://github.com/mem-u/memU)

### 14.2 åè©è§£é‡‹

| è¡“èª | èªªæ˜ |
|------|------|
| é€±æœŸæ™‚é–“ (Cycle Time) | ç”Ÿç”¢ä¸€å€‹å–®ä½ç”¢å“æ‰€éœ€æ™‚é–“ |
| æ›ç·šæ™‚é–“ (Changeover) | å¾ç”¢å“ A åˆ‡æ›åˆ°ç”¢å“ B çš„è¨­å®šæ™‚é–“ |
| ç¨€é‡‹ç‡ (Utilization) | ç”¢ç·šå¯¦éš›é‹ä½œæ™‚é–“ / å¯ç”¨æ™‚é–“ |
| WIP | Work in Progressï¼Œåœ¨è£½å“ |

### 14.3 ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | è®Šæ›´èªªæ˜ |
|------|------|------|----------|
| 0.1.0 | 2026-02-22 | Vince & Lucy | åˆç‰ˆï¼ŒMVP è¦æ ¼å®šç¾© |

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. [ ] Review æœ¬è¦æ ¼æ›¸
2. [ ] ç¢ºèªæŠ€è¡“é¸å‹
3. [ ] å»ºç«‹ GitHub Repository
4. [ ] é–‹å§‹ Week 1 é–‹ç™¼

---

*Generated by Lucy AI Office - AutoPilot SME Project*
